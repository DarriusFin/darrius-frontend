<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Account | DarriusAI • Inflection Hunter</title>

  <!-- Optional: if you already have a global CSS for the dashboard, you can link it here.
       Do NOT move or modify existing subscription/payment scripts from index.html. -->
  <!-- <link rel="stylesheet" href="/css/app.css"> -->

  <style>
    :root{
      --bg0:#070b12;
      --bg1:#0a0f18;
      --card:rgba(255,255,255,.04);
      --card2:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.10);
      --stroke2:rgba(255,255,255,.14);
      --text:rgba(255,255,255,.92);
      --muted:rgba(255,255,255,.62);
      --muted2:rgba(255,255,255,.48);
      --good:#2BE2A6;
      --warn:#ffd250;
      --bad:#ff6b6b;
      --brand1:#2BE2A6;
      --brand2:#4CC2FF;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius:18px;
      --radius2:14px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 0%, rgba(76,194,255,.10), transparent 55%),
                  radial-gradient(900px 600px at 90% 10%, rgba(43,226,166,.10), transparent 50%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      min-height:100vh;
    }

    a{color:inherit}
    .wrap{max-width:1180px;margin:0 auto;padding:22px 18px 34px}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;
      gap:14px;padding:14px 14px;
      border:1px solid var(--stroke);
      background:rgba(0,0,0,.22);
      border-radius:22px;
      box-shadow: var(--shadow);
      position:sticky;top:14px;z-index:20;
      backdrop-filter: blur(10px);
    }
    .brand{display:flex;align-items:center;gap:12px;min-width:220px}
    .logo{
      width:34px;height:34px;border-radius:10px;
      background: linear-gradient(135deg, var(--brand1), var(--brand2));
      box-shadow: 0 10px 30px rgba(76,194,255,.18);
    }
    .brand h1{font-size:16px;line-height:1;margin:0;font-weight:800;letter-spacing:.2px}
    .brand .sub{font-size:12px;color:var(--muted);margin-top:2px}

    .nav{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 12px;border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
      color:var(--muted);
      font-size:12px;
      white-space:nowrap;
    }
    .dot{width:8px;height:8px;border-radius:50%;background:var(--warn)}
    .dot.good{background:var(--good)}
    .dot.bad{background:var(--bad)}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      gap:10px;
      padding:10px 14px;
      border-radius:14px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.04);
      color:var(--text);
      font-weight:700;
      cursor:pointer;
      text-decoration:none;
      user-select:none;
    }
    .btn:hover{background:rgba(255,255,255,.06)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      border:none;
      background: linear-gradient(90deg, var(--brand1), var(--brand2));
      color:#061018;
      box-shadow: 0 10px 30px rgba(76,194,255,.15);
    }
    .btn.ghost{background:transparent}
    .btn.small{padding:8px 10px;border-radius:12px;font-size:12px}

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      .brand{min-width:auto}
      .topbar{position:relative;top:auto}
    }

    .card{
      border:1px solid var(--stroke);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .card h2{margin:0 0 10px;font-size:14px;letter-spacing:.2px}
    .muted{color:var(--muted)}
    .muted2{color:var(--muted2)}
    .hr{height:1px;background:var(--stroke);margin:14px 0}

    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;border-radius:999px;
      border:1px solid var(--stroke2);
      background:rgba(255,255,255,.03);
      font-size:12px;
      font-weight:800;
      letter-spacing:.3px;
    }
    .badge.good{border-color:rgba(43,226,166,.35);color:var(--good);background:rgba(43,226,166,.08)}
    .badge.warn{border-color:rgba(255,210,80,.35);color:var(--warn);background:rgba(255,210,80,.08)}
    .badge.bad{border-color:rgba(255,107,107,.35);color:var(--bad);background:rgba(255,107,107,.08)}

    .row{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .kv{display:grid;grid-template-columns:140px 1fr;gap:8px 10px;font-size:13px}
    .kv .k{color:var(--muted)}
    .kv .v{color:var(--text);font-family:var(--mono);font-size:12.5px}
    .hint{font-size:12px;color:var(--muted);line-height:1.45}

    .plans{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    @media (max-width: 560px){.plans{grid-template-columns:1fr}}
    .plan{
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.03);
      border-radius: var(--radius2);
      padding:14px;
    }
    .plan .t{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .plan .name{font-weight:900}
    .plan .price{font-family:var(--mono);color:rgba(255,255,255,.85)}
    .plan .desc{margin-top:8px;color:var(--muted);font-size:12px;line-height:1.45}
    .plan .actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}
    .plan.active{
      border-color:rgba(76,194,255,.35);
      box-shadow: 0 0 0 1px rgba(76,194,255,.12) inset;
      background:rgba(76,194,255,.06);
    }

    .footer{
      margin-top:14px;
      color:var(--muted2);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    .link{color:rgba(255,255,255,.75);text-decoration:none;border-bottom:1px dashed rgba(255,255,255,.25)}
    .link:hover{color:#fff;border-bottom-color:rgba(255,255,255,.45)}
  </style>
</head>

<body>
  <div class="wrap">

    <!-- Top bar: keep style consistent with your dashboard -->
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>DarriusAI • Inflection Hunter</h1>
          <div class="sub">Account & Subscription Management</div>
        </div>
      </div>

      <div class="nav">
        <!-- Runtime status (filled by JS) -->
        <div class="pill" id="pillLogin">
          <span class="dot" id="dotLogin"></span>
          <span id="txtLogin">Checking login…</span>
        </div>
        <div class="pill" id="pillAccess" title="Access & data source are controlled by backend policy.">
          <span class="dot" id="dotAccess"></span>
          <span id="txtAccess">Access: —</span>
        </div>

        <a class="btn ghost" href="/index.html" id="btnBack">
          ← Back to Dashboard
        </a>
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: Subscription Overview + Plans -->
      <div class="card" id="cardOverview">
        <div class="row">
          <h2 style="margin:0">Subscription Overview</h2>
          <span class="badge warn" id="badgeStatus">STATUS: LOADING</span>
        </div>

        <div class="hint" style="margin-top:10px">
          This page manages your subscription. Your dashboard access and data mode (Demo vs MFV/Delayed) are enforced by backend policy.
        </div>

        <div class="hr"></div>

        <div class="kv">
          <div class="k">User</div>
          <div class="v" id="vUser">—</div>

          <div class="k">Current Plan</div>
          <div class="v" id="vPlan">—</div>

          <div class="k">Subscription Status</div>
          <div class="v" id="vSubStatus">—</div>

          <div class="k">Renews / Ends</div>
          <div class="v" id="vPeriodEnd">—</div>

          <div class="k">Data Source Mode</div>
          <div class="v" id="vDataMode">—</div>
        </div>

        <div class="hr"></div>

        <div class="row">
          <div class="hint" style="max-width:720px">
            <b>Note:</b> If you cancel, access normally remains active until the end of the current billing period (unless your policy says otherwise).
          </div>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn" id="btnPortal" type="button">Open Billing Portal</button>
            <button class="btn primary" id="btnGoPlans" type="button">Choose / Change Plan</button>
          </div>
        </div>

        <div class="hr"></div>

        <!-- Plans area -->
        <h2 style="margin:0 0 10px">Plans</h2>
        <div class="hint" style="margin-bottom:12px">
          Pricing shown below is read from your backend/Stripe configuration. Buttons will route through your existing checkout flow.
        </div>

        <div class="plans" id="plansWrap">
          <!-- Plan cards are placeholders. JS will inject real prices/ids or update labels. -->
          <div class="plan" data-plan="weekly" id="plan_weekly">
            <div class="t">
              <div class="name">Weekly</div>
              <div class="price" id="price_weekly">$—</div>
            </div>
            <div class="desc">Short-term access. Ideal for trials and quick evaluations.</div>
            <div class="actions">
              <button class="btn primary small" data-action="checkout" data-plan="weekly" type="button">Subscribe</button>
              <button class="btn small" data-action="learn" data-plan="weekly" type="button">Details</button>
            </div>
          </div>

          <div class="plan" data-plan="monthly" id="plan_monthly">
            <div class="t">
              <div class="name">Monthly</div>
              <div class="price" id="price_monthly">$—</div>
            </div>
            <div class="desc">Most popular. Balanced commitment and flexibility.</div>
            <div class="actions">
              <button class="btn primary small" data-action="checkout" data-plan="monthly" type="button">Subscribe</button>
              <button class="btn small" data-action="learn" data-plan="monthly" type="button">Details</button>
            </div>
          </div>

          <div class="plan" data-plan="quarterly" id="plan_quarterly">
            <div class="t">
              <div class="name">Quarterly</div>
              <div class="price" id="price_quarterly">$—</div>
            </div>
            <div class="desc">Better value. Recommended for active users.</div>
            <div class="actions">
              <button class="btn primary small" data-action="checkout" data-plan="quarterly" type="button">Subscribe</button>
              <button class="btn small" data-action="learn" data-plan="quarterly" type="button">Details</button>
            </div>
          </div>

          <div class="plan" data-plan="yearly" id="plan_yearly">
            <div class="t">
              <div class="name">Yearly</div>
              <div class="price" id="price_yearly">$—</div>
            </div>
            <div class="desc">Best value. For professionals and long-term users.</div>
            <div class="actions">
              <button class="btn primary small" data-action="checkout" data-plan="yearly" type="button">Subscribe</button>
              <button class="btn small" data-action="learn" data-plan="yearly" type="button">Details</button>
            </div>
          </div>
        </div>

        <div class="hr"></div>

        <div class="hint">
          <b>Compliance note (display-only):</b>
          If your access mode is <span class="muted">MFV/Delayed</span>, the dashboard will show delayed market data (e.g., 15-min) as required by your data provider terms.
          This page does not change data-provider entitlements; it only manages your subscription with DarriusAI.
        </div>
      </div>

      <!-- RIGHT: Policy / Help / Actions (Control Center style) -->
      <div class="card" id="cardControl">
        <div class="row">
          <h2 style="margin:0">Control Center</h2>
          <span class="badge" id="badgePolicy">POLICY</span>
        </div>

        <div class="hr"></div>

        <h2 style="margin:0 0 10px">Access Policy</h2>
        <div class="hint" id="policyText">
          Loading access policy…
        </div>

        <div class="hr"></div>

        <h2 style="margin:0 0 10px">Quick Actions</h2>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="btn" id="btnRefresh" type="button">Refresh Status</button>
          <a class="btn" href="/index.html">Open Dashboard</a>
        </div>

        <div class="hr"></div>

        <h2 style="margin:0 0 10px">Support</h2>
        <div class="hint">
          If you have billing questions, please use the Billing Portal first (invoices, payment methods, cancellations).<br/>
          For technical support: <a class="link" href="/support.html">Support</a> (or your existing support link).
        </div>

        <div class="hr"></div>

        <h2 style="margin:0 0 10px">System</h2>
        <div class="kv">
          <div class="k">Build</div>
          <div class="v" id="vBuild">—</div>

          <div class="k">Backend</div>
          <div class="v" id="vBackend">—</div>
        </div>
      </div>
    </div>

    <div class="footer">
      <div>© 2026 Darrius FinTech Inc. All Rights Reserved.</div>
      <div class="muted2">
        <a class="link" href="/terms.html">Terms</a> ·
        <a class="link" href="/privacy.html">Privacy</a>
      </div>
    </div>

  </div>

  <!-- IMPORTANT:
       account.html is display + routing only.
       It must NOT import or modify any existing index.html subscription/payment code.
       It simply calls your backend endpoints and redirects the user accordingly. -->
  <script src="/js/account.page.js"></script>
</body>
</html>
